@model WebBanLapTop.ViewModel.ProductVM

@{
    ViewData["Title"] = "Chi tiết sản phẩm";
    Layout = "_LayoutIndex";
}

@section Css{
    <style>
         .btn_quantity {
            display: grid;
            grid-template-columns: repeat(3, 50px);
        }

         .quantity > button {
            width: 40px;
            height: 40px;
            border: 1px solid #ddd;
            background-color: #f9f9f9;
            color: #333;
            font-size: 18px;
            text-align: center;
            cursor: pointer;
            border-radius: 5px;
        }

        .quantity .p-quantity {
            width: 40px;
            height: 40px;
            border: 1px solid #ddd;
            background-color: #f9f9f9;
            color: #333;
            font-size: 18px;
            text-align: center;
            cursor: pointer;
            border-radius: 5px;
        }

        .qty-cart .btn_add {
            font-family: inherit;
            font-size: 14px;
            font-weight: 600;
            padding: 10px 15px;
            border: 1px solid #000;
            color: #fff;
            background-color: #000;
            text-transform: uppercase;
            border-radius: 50px;
        }

        .btn_add:hover {
            background-color: #fff;
            color: #111;
            transition: all 0.5s;
        }

    </style>
}

<!-- MAIN -->
<main class="product-page">
    <div class="container">
        <!-- Search bar -->
        <div class="product-container">
            <div class="search-bar d-none d-md-flex">
                <input type="text" name="" id="" placeholder="Search for item" class="search-bar__input" />
                <button class="search-bar__submit">
                    <img src="~/assets/icons/search.svg" alt="" class="search-bar__icon icon" />
                </button>
            </div>
        </div>

        <!-- Breadcrumbs -->
        <div class="product-container">
            <ul class="breadcrumbs">
                <li>
                    <a asp-action="Index" asp-controller="Home" class="breadcrumbs__link">
                      Trang chủ
                        <img src="~/assets/icons/arrow-right.svg" alt="" />
                    </a>
                </li>
                <li>
                    <a href="#!" class="breadcrumbs__link">
                      @Model.Name
                    </a>
                </li>
            </ul>
        </div>

        <!-- Product info -->
        <div class="product-container prod-info-content">
            <div class="row">
                <div class="col-5 col-xl-6 col-lg-12">
                    <div class="prod-preview">
                        <div class="prod-preview__list">
                            <div class="prod-preview__item">
                                <img src="~/assets/img_laptop/@Model.Img" alt="@Model.Name" class="prod-preview__img" />
                            </div>
                            <div class="prod-preview__item">
                                <img src="~/assets/img_laptop/@Model.Img" alt="@Model.Name" class="prod-preview__img" />
                            </div>
                            <div class="prod-preview__item">
                                <img src="~/assets/img_laptop/@Model.Img" alt="@Model.Name" class="prod-preview__img" />
                            </div>
                            <div class="prod-preview__item">
                                <img src="~/assets/img_laptop/@Model.Img" alt="@Model.Name" class="prod-preview__img" />
                            </div>
                        </div>
                        <div class="prod-preview__thumbs">
                            <img src="~/assets/img_laptop/@Model.Img"
                                 alt=""
                                 class="prod-preview__thumb-img prod-preview__thumb-img--current" />
                            
                        </div>
                    </div>
                </div>
                <div class="col-7 col-xl-6 col-lg-12">
                    <form asp-action="AddToCart" asp-controller="Cart" asp-route-id="@Model.Id" class="form">
                        <section class="prod-info">
                            <h1 class="prod-info__heading">
                                @Model.Name
                            </h1>
                            <div class="row">
                                <div class="col-5 col-xxl-6 col-xl-12">
                                    @* <div class="prod-prop">
                                        <img src="~/assets/icons/star.svg" alt="" class="prod-prop__icon" />
                                        <h4 class="prod-prop__title">(3.5) 1100 reviews</h4>
                                    </div> *@
                                    <label for="" class="form__label prod-info__label">Trọng lượng</label>
                                    <div class="filter__form-group">
                                        <div class="form__select-wrap">
                                            <div class="form__select" style="--width: 146px">
                                                @Model.KhoiLuong kg
                                                
                                            </div>
                                            <div class="form__select">
                                                Kg
                                                
                                            </div>
                                        </div>
                                    </div>
                                    <div class="quantity">
                                        <button type="button" class="decrease">-</button>
                                        <input type="text"
                                               name="quantity"
                                               class="p-quantity"
                                               value="1" />
                                        <button type="button" class="increase">+</button>
                                    </div>
                                    
                                </div>
                                <div class="col-7 col-xxl-6 col-xl-12">
                                    <div class="prod-props">
                                        
                                        <div class="prod-prop">
                                            <img src="~/assets/icons/buy.svg"
                                                 alt=""
                                                 class="prod-prop__icon icon" />
                                            <div>
                                                <h4 class="prod-prop__title">Vận chuyển</h4>
                                                <p class="prod-prop__desc">Khoảng  100,000 VND, 1-3 days</p>
                                            </div>
                                        </div>
                                        <div class="prod-prop">
                                            <img src="~/assets/icons/bag.svg"
                                                 alt=""
                                                 class="prod-prop__icon icon" />
                                            <div>
                                                <h4 class="prod-prop__title">Lấy tại cửa hàng</h4>
                                                <p class="prod-prop__desc">Có tại 2 cửa hàng, hôm nay</p>
                                            </div>
                                        </div>
                                        <div class="prod-info__card">
                                            <div class="prod-info__row">
                                                <span class="prod-info__price">@Model.Price.ToString("#,##0")</span>
                                                @* <span class="prod-info__tax">10%</span> *@
                                            </div>
                                            <p class="prod-info__total-price">@Model.Price.ToString("#,##0")</p>
                                            <div class="prod-info__row">
                                                <button type="submit" class="btn btn--primary prod-info__add-to-cart">
                                                    Thêm vào giỏ 
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </section>
                    </form>
                    <form id="form_pro" action="#">
                       
                    </form>
                </div>
            </div>
        </div>

        <!-- Product content -->
        <div class="product-container">
            <div class="prod-tab js-tabs">
                <ul class="prod-tab__list">
                    <li class="prod-tab__item prod-tab__item--current">Description</li>
                   
                </ul>
                <div class="prod-tab__contents">
                    <div class="prod-tab__content prod-tab__content--current">
                        <div class="row">
                            <div class="col-8 col-xl-10 col-lg-12">
                                <div class="text-content prod-tab__text-content">
                                    <h2>@Model.Name</h2>
                                    <p>
                                        @Model.Description
                                    </p>

                                </div>
                            </div>
                        </div>
                    </div>
                   
                   
                </div>
            </div>
        </div>
    </div>
</main>
@section Scripts {
    <script>
        // JS cho phần tăng giảm số lượng sp ng dùng chọn
        var j = jQuery.noConflict();

        j("button").click(function () {
            let upOrDown = j(this).attr("class");
            console.log(upOrDown);

            // Tăng số lượng hoặc giảm số lượng
            let quantity = j(this).parent();
            let value = parseInt(quantity.find(".p-quantity").val(), 10);
            if ("increase" === upOrDown) {
                value++;
            } else {
                value--;
                if (value < 1) return;
            }
            // Cập nhật số lượng
            quantity.find(".p-quantity").val(value);
        })

    </script>

}